# Аналитика

Общая идея аналитики - собирать определенные события, которые генерируют юзеры (просмотр видео, нажатия на те или иные кнопки и т.д.). В аналитике мы не привязываемся к конкретной структуре данных, вместо этого используем **имя события** (eventName), и храним дополнительные данные. При таком подходе при появлении новых типов событий мы не меняем структуру БД. В то же время на бекенде потом сможем строить отчеты по интересующим нам данным.

Чтобы собирать события аналитики, используем следующий API:

`POST /api/v2/analytics/addUserEvent`

По этому адресу отправляем JSON-объект. 

Передаем следующие поля:

- **token**. API токен пользователя. Обязательный параметр
- **eventName** - строка с названием события, до 255 символов. Обязательный параметр
- **eventValue** - строка с дополнительной информацией о событии, до 255 символов. Необязательный параметр
- **cf1** - строка с дополнительной метаинформацией, до 255 символов. Необязательный параметр.
- **cf2** - строка с дополнительной метаинформацией, до 255 символов. Необязательный параметр.
- **cf3** - строка с дополнительной метаинформацией, до 255 символов. Необязательный параметр.
- **cf4** - строка с дополнительной метаинформацией, до 255 символов. Необязательный параметр.

В запросе обязательно должен быть header:

`Content-Type: application/json`

Вот пример запроса, для хранения данных о том, смотрел ли пользователь видеоподсказку для задачи


```json
{
"token": "113d0729171c0edad0bcfb8046a7cfc0892c692d4fd415d2e6409f2fa6bdef76",
"eventName": "userSeenHelpVideoForTask",
"eventValue" : "js-hw-1-1"
}
```